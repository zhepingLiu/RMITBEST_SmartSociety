{"remainingRequest":"/Users/waiting/Documents/WeBankFinTech/vue/smart-ai/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/waiting/Documents/WeBankFinTech/vue/smart-ai/src/components/CommunityTag.vue?vue&type=style&index=0&id=425e56a1&lang=less&scoped=true&","dependencies":[{"path":"/Users/waiting/Documents/WeBankFinTech/vue/smart-ai/src/components/CommunityTag.vue","mtime":1566710715906},{"path":"/Users/waiting/Documents/WeBankFinTech/vue/smart-ai/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/waiting/Documents/WeBankFinTech/vue/smart-ai/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/waiting/Documents/WeBankFinTech/vue/smart-ai/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/waiting/Documents/WeBankFinTech/vue/smart-ai/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/waiting/Documents/WeBankFinTech/vue/smart-ai/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/waiting/Documents/WeBankFinTech/vue/smart-ai/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@borderWidth: 1px solid #eee;\n\n    .chart-title{\n        margin-bottom: 16px;\n    }\n\n    .chart-container{\n        border: @borderWidth;\n        // margin-left: 50px;\n        width: 900px;\n        height: 260px;\n    }\n\n    .name-input{\n        width: 234px;\n        margin-right: 16px;\n    }\n\n    .item-row{\n        margin-top: 16px;\n    }\n\n    .oper-box{\n        padding-left: 50px;\n    }\n",{"version":3,"sources":["CommunityTag.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2IA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"CommunityTag.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"fs14\">\n        <div>\n            <div class=\"chart-title\">社区住户出行规律</div>\n            <div class=\"chart-container\" id='tripChart'></div>\n        </div>\n        <div>\n            <div class=\"chart-title mt16\">社区住户能源消费</div>\n            <div class=\"chart-container\" id='resourceChart'></div>\n        </div>\n        <!-- <div class=\"oper-box\"> -->\n\n        <div class=\"mt16\">\n            <el-input\n                class=\"name-input\"\n                placeholder=\"请输入姓名\"\n                v-model=\"stateHome.community.name\"\n                clearable>\n            </el-input>\n            <el-button type=\"primary\" @click=\"appraise\">评估</el-button>\n        </div>\n        <div class=\"fs14\">\n            <el-row :span='24' class=\"item-row\">\n                <el-col :span='4'>该用户困难指数:</el-col>\n                <el-col :span='2'>{{stateHome.community.diffculty}}</el-col>\n                <el-col :span='10'>\n                    <el-button type=\"mini\" plain>社区帮助</el-button>\n                </el-col>\n            </el-row>\n            <el-row :span='24' class=\"item-row\">\n                <el-col :span='4'>能源消费类别:</el-col>\n                <el-col :span='2'>{{stateHome.community.energyConsumption}}</el-col>\n            </el-row>\n            <el-row :span='24' class=\"item-row\">\n                <el-col :span='4'>危险指数:</el-col>\n                <el-col :span='2' class=\"fs14\">{{stateHome.community.rishLevel}}</el-col>\n            </el-row>\n        </div>\n        <!-- </div> -->\n\n    </div>\n</template>\n<script>\nimport { mapState, mapActions } from 'vuex'\n\nexport default {\n    name: 'CommunityTag',\n\n    computed: mapState({\n        stateHome: state => state.home\n    }),\n\n    data() {\n        return {\n            tripChartData: {\n                dataAxis: [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],\n                dataYaxis: [220, 182, 191, 234, 290, 290, 290, 290, 290, 290, 290, 290, 290, 290, 290, 290, 290, 290, 290, 290, 290, 290, 290, 290, 290],\n            }\n        }\n    },\n\n    mounted() {\n        // this.initTripChart()\n        this.$store.dispatch('home/getTripChart')\n        this.$store.dispatch('home/getResourceChart')\n    },\n\n    watch: {\n        'stateHome.tripChart': {\n            handler(newName, oldName) {\n                this.initTripChart()\n            },\n            deep: true,\n        },\n        'stateHome.resourceChart': {\n            handler(newName, oldName) {\n                this.initTripChart()\n            },\n            deep: true,\n        },\n    },\n\n    methods: {\n        initTripChart() {\n            let tripChart = echarts.init(document.querySelector('#tripChart'));\n            let resourceChart = echarts.init(document.querySelector('#resourceChart'));\n            tripChart.setOption(this.getOption(this.stateHome.tripChart.dataAxis, this.stateHome.tripChart.dataYaxis, '社区住户出行规律'))\n            resourceChart.setOption(this.getOption(this.stateHome.resourceChart.dataAxis, this.stateHome.resourceChart.dataYaxis, '社区住户能源消费'))\n        },\n\n        appraise() {\n            this.$store.dispatch('home/getCommunity', {name: this.stateHome.community.name})\n        },\n\n        getOption(dataAxis, dataYaxis, yName) {\n            let option = {\n                color: ['#3398DB'],\n                tooltip : {\n                    trigger: 'axis',\n                    axisPointer : {            // 坐标轴指示器，坐标轴触发有效\n                        type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'\n                    }\n                },\n                grid: {\n                    left: '3%',\n                    right: '5%',\n                    bottom: '4%',\n                    containLabel: true\n                },\n                xAxis : [\n                    {\n                        type : 'category',\n                        name: '时间',\n                        data : dataAxis,\n                        axisTick: {\n                            alignWithLabel: true\n                        }\n                    }\n                ],\n                yAxis : [\n                    {\n                        type : 'value'\n                    }\n                ],\n                series : [\n                    {\n                        name: yName,\n                        type: 'bar',\n                        barWidth: '30%',\n                        data: dataYaxis\n                    }\n                ]\n            }\n            return option\n        },\n    },\n}\n</script>\n<style lang=\"less\" scoped>\n@borderWidth: 1px solid #eee;\n\n    .chart-title{\n        margin-bottom: 16px;\n    }\n\n    .chart-container{\n        border: @borderWidth;\n        // margin-left: 50px;\n        width: 900px;\n        height: 260px;\n    }\n\n    .name-input{\n        width: 234px;\n        margin-right: 16px;\n    }\n\n    .item-row{\n        margin-top: 16px;\n    }\n\n    .oper-box{\n        padding-left: 50px;\n    }\n</style>"]}]}